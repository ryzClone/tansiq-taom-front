/* Reset/box sizing */
*,
*::before,
*::after { box-sizing: border-box; }

:root{
  /* Emerald palitra */
  --emerald-50:#ecfdf5;
  --emerald-200:#a7f3d0;
  --emerald-500:#10b981;
  --emerald-600:#059669;
  --emerald-700:#047857;
  --emerald-800:#065f46;

  --white: #fff;
  --slate-50:#f8fafc;
  --slate-100:#f1f5f9;
  --slate-200:#e2e8f0;
  --slate-700:#334155;
  --slate-800:#1f2937;
  --shadow: 0 10px 22px rgba(2,6,23,.08);
  --shadow-strong: 0 12px 28px rgba(2,6,23,.12);

  --sidebar-w: 320px;         /* keng holat */
  --sidebar-w-sm: 64px;        /* collapsed holat */
  --brand-h: 56px;
  --radius: 12px;
}

/* Layout root */
.layout{
  display: flex;
  align-items: stretch;
  min-height: 100dvh;
  background: var(--slate-50);
  color: var(--slate-800);
}

/* Sidebar */
.sidebar{
  position: sticky;
  top: 0;
  height: 100dvh;
  width: var(--sidebar-w);
  color: var(--white);
  overflow: hidden;
  transition: width .3s ease-in-out;
  z-index: 10;
  /* Emerald gradient + dekor */
  background:
    radial-gradient(1200px 400px at 20% 0%, rgba(255,255,255,.06), transparent 40%),
    radial-gradient(800px 300px at 90% 20%, rgba(255,255,255,.06), transparent 40%),
    linear-gradient(to bottom, var(--emerald-600), var(--emerald-700) 50%, var(--emerald-800));
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
}
.sidebar.collapsed{ width: var(--sidebar-w-sm); }

/* Collapse button (o‘rtada, o‘ng chetda) */
.collapse-btn{
  position: absolute;
  top: 50%;
  right: -12px;
  transform: translateY(-50%);
  width: 28px; height: 28px;
  border-radius: 999px;
  background: var(--white);
  color: var(--emerald-700);
  border: 1px solid var(--emerald-200);
  box-shadow: var(--shadow);
  display: grid; place-items: center;
  cursor: pointer;
  transition: background .2s ease, transform .2s ease, box-shadow .2s ease;
  z-index: 5;
}
.collapse-btn:hover{ background: #f9fafb; box-shadow: var(--shadow-strong); }
.collapse-btn:active{ transform: translateY(-50%) scale(.98); }

/* Brand qatori */
.brand{
  display:flex; align-items:center; gap:10px;
  height: var(--brand-h);
  padding: 0 10px;
  border-bottom: 1px solid rgba(255,255,255,.14);
}
.brand-icon{
  width: 32px; height: 32px;
  border-radius: 10px;
  background: rgba(255,255,255,.2);
  backdrop-filter: blur(4px);
  box-shadow: inset 0 1px 2px rgba(0,0,0,.05);
}
.brand-text{ line-height: 1.1; }
.brand-title{ font-size: 14px; font-weight: 700; }
.brand-subtitle{ font-size: 11px; color: rgba(255,255,255,.85); }

/* Nav */
.nav{
  height: calc(100dvh - var(--brand-h));
  padding: 10px;
  overflow-y: auto;
}
.nav::-webkit-scrollbar{ width: 8px; }
.nav::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.15); border-radius: 8px; }
.nav::-webkit-scrollbar-track{ background: transparent; }

/* Har bir link */
.nav-link{
  position: relative;
  display: flex; align-items: center; gap: 10px;
  padding: 10px 12px;
  color: rgba(255,255,255,.92);
  text-decoration: none;
  border-radius: var(--radius);
  border: 1px solid transparent;
  transition: background .2s ease, border-color .2s ease, transform .15s ease;
  will-change: transform;
  margin: 0 0 5px 0; /* itemlar oralig‘i 5px */
}
.nav-link:hover{ background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.12); }
.nav-link:active{ transform: translateY(1px); }
.nav-link:focus-visible{ outline: 2px solid var(--white); outline-offset: 2px; }

/* Active holat */
.nav-link.active{
  background: rgba(255,255,255,.22);
  border-color: rgba(255,255,255,.2);
  color: #fff;
  font-weight: 600;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
}
.active-indicator{
  position: absolute;
  left: 0; top: 50%;
  transform: translateY(-50%);
  height: 20px; width: 4px;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 4px;
  background: transparent;
  transition: background .2s ease;
}
.nav-link.active .active-indicator{ background: #fff; }

/* Emoji konteyneri — collapsed badge’ni joylash uchun */
.emoji-wrap{
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Keng holatdagi badge (o‘ng tomonda) */
.badge{
  margin-left: auto;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0 6px;
  min-width: 18px;
  height: 18px;
  font-size: 10px;
  font-weight: 700;
  border-radius: 999px;
  background: #fff;
  color: var(--emerald-700);
  border: 1px solid rgba(16,185,129,.25);
  box-shadow: 0 1px 0 rgba(0,0,0,.04);
  line-height: 1; /* raqam vertikal markazda turishi uchun */
}

/* Collapsed holat uchun suzuvchi badge (emoji ustida) */
.badge-floating{
  position: absolute;
  top: -6px;
  right: -8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0 5px;
  min-width: 18px;
  height: 18px;
  font-size: 10px;
  font-weight: 700;
  border-radius: 999px;
  background: #fff;
  color: var(--emerald-700);
  border: 1px solid rgba(16,185,129,.25);
  box-shadow: 0 1px 0 rgba(0,0,0,.05);
  line-height: 1;
}


/* Collapsed link — markazga */
.collapsed .nav{ padding: 10px 6px; }
.collapsed-link{
  justify-content: center;
  padding: 10px 6px;
}
.collapsed .badge,
.collapsed-link .badge{
  width: 8px; height: 8px;
  min-width: 8px; padding:0;
  border-radius:999px;
  border: none;
  background: #fff;
  color: transparent;
  margin-left: 6px;
}

/* Content area */
.content{
  flex:1;
  min-height: 100dvh;
  background: var(--slate-50);
  padding: 24px;
}
@media (max-width: 1024px){
  :root{ --sidebar-w: 280px; }
}
@media (max-width: 640px){
  :root{ --sidebar-w: 240px; }
}
